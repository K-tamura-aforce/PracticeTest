<!DOCTYPE html>
<html lang="ja" dir="ltr">
<head>
<meta charset="UTF-8">
<title>HTML・CSS・Javascriptの週次課題</title>
<link href="css/style.css" media="all" rel="stylesheet" type="text/css" />
</head>
<body>
	<header>
		<div class="container">
			<h2>カート内容</h2>
		</div>
		<!-- /.container -->
	</header>
	<form id="form">
		<table border="1">
			<tr>
				<th>商品画像</th>
				<th>商品名</th>
				<th>値段(税込み)</th>
				<th>個数</th>
				<th>小計(税込み)</th>
			</tr>
			<tr>
				<td><img src="img/apple.png"></td>
				<td>リンゴ</td>
				<td>190円</td>
				<td><select name="stock1">
						<option value="0" selected>0個</option>
						<option value="1">1個</option>
						<option value="2">2個</option>
						<option value="3">3個</option>
				</select></td>
				<td><input id="subtotal1" readonly value="0">円</td>
			</tr>
			<tr>
				<td><img src="img/lemon.png"></td>
				<td>レモン</td>
				<td>130円</td>
				<td><select name="stock2">
						<option value="0" selected>0個</option>
						<option value="1">1個</option>
						<option value="2">2個</option>
						<option Value="3">3個</option>
				</select></td>
				<td><input id="subtotal2" readonly value="0">円</td>
			</tr>
			<tr>
				<td><img src="img/strawberry.png"></td>
				<td>イチゴ</td>
				<td>300円</td>
				<td><select name="stock3">
						<option value="0" selected>0個</option>
						<option value="1">1個</option>
						<option value="2">2個</option>
						<option value="3">3個</option>
				</select></td>
				<td><input id="subtotal3" readonly value="0">円</td>
			</tr>
			<tr>
				<th colspan="4">合計(税込み)</th>
				<td><input id="total" readonly value="0">円</td>
			</tr>
		</table>
	</form>
	<script>
		'use strict';

		//リンゴの個数が変更されたとき
		document.getElementById('form').stock1.onchange = function() {

			var price = 190; //値段を設定

			var stock = document.getElementById('form').stock1.value; //選択された個数を取得

			var subtotal = (price * stock);  //(値段 * 個数)を計算して小計の値を出す

			document.getElementById("subtotal1").value = subtotal; //小計の値を表に表示させる

			//リンゴ、レモン、イチゴの全ての小計を合計の値に足して表に表示する
			document.getElementById("total").value =
				parseInt(document.getElementById("subtotal1").value)
				+ parseInt(document.getElementById("subtotal2").value)
				+ parseInt(document.getElementById("subtotal3").value);
		}

		//レモンの個数が変更されたとき
		document.getElementById('form').stock2.onchange = function() {

			var price = 130; //値段を設定

			var stock = document.getElementById('form').stock2.value; //選択された個数を取得

			var subtotal = (price * stock); //(値段 * 個数)を計算して小計の値を出す

			document.getElementById("subtotal2").value = subtotal; //小計の値を表に表示させる

			//リンゴ、レモン、イチゴの全ての小計を合計の値に足して表示する
			document.getElementById("total").value =
				parseInt(document.getElementById("subtotal1").value)
				+ parseInt(document.getElementById("subtotal2").value)
				+ parseInt(document.getElementById("subtotal3").value);

		}

		//イチゴの個数が変更されたとき
		document.getElementById('form').stock3.onchange = function() {

			var price = 300; //値段を設定

			var stock = document.getElementById('form').stock3.value; //選択された個数を取得

			var subtotal = (price * stock); //(値段 * 個数)を計算して小計の値を出す

			document.getElementById("subtotal3").value = subtotal; //小計の値を表に表示させる

			//リンゴ、レモン、イチゴの全ての小計を合計の値に足して表示する
			document.getElementById("total").value =
				parseInt(document.getElementById("subtotal1").value)
				+ parseInt(document.getElementById("subtotal2").value)
				+ parseInt(document.getElementById("subtotal3").value);

		}
	</script>
</body>
</html>